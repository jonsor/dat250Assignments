<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<link rel="stylesheet" type="text/css" href="css/style.css"></link>
	<title>Welcome page</title>
</h:head>

<h:body>
	<h1>Welcome! #{user.uname}</h1>

	<form action="welcome" method="post">
		<p>
			Search: <input type="text" name="search" />
		</p>
		<p>
			<input type="submit" value="Search" />
		</p>
	</form>

	<form action="welcome" method="post">
		<p>
			<input type="submit" value="Register new Device"
				name="registerNewDevice" />
		</p>
	</form>

	<h:dataTable value="#{devices}" var="o" styleClass="order-table"
		headerClass="order-table-header"
		rowClasses="order-table-odd-row,order-table-even-row">

		<h:column>
			<f:facet name="header">Name</f:facet>
    				#{o.name}
    			</h:column>

		<h:column>
			<f:facet name="header">Status</f:facet>
    				#{o.status}
    			</h:column>

		<h:column>
			<f:facet name="header">Registered</f:facet>
			<form action="welcome" method="post">
				<input type="hidden" value="#{o.id}" name="selectedDeviceId" />
				<input value="Subscribe" type="submit" name="Subscribe" />
			</form>
		</h:column>

		<h:column>
			<f:facet name="header">View</f:facet>
			<form action="welcome" method="post">
				<input type="hidden" value="#{o.id}" name="selectedDeviceId" /> <input
					type="submit" value="View" name="deviceSelected" />
			</form>
		</h:column>

	</h:dataTable>
</h:body>

</html>